<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>mastodon-api-test</title>
    <script src="../node_modules/dev-kit/dist/dev-kit.js"></script>
  </head>
  <body>
    <dev-kit></dev-kit>
  </body>
</html>

<script type="module">
import storage from "../src/storage.js";

const test = {
  array: [
    {name: "t1", value: 1},
    {name: "t2", value: 2},
    {name: "t3", value: 3},
  ],
  object: {bool: false},
  number: 100,
  string: "hello everyone.",
  NULL: null,
  UNDEFINED: undefined,
};

storage.set("TEST", test);
const restored = storage.get("TEST");

console.log(restored.array.constructor === Array);
console.log(restored.object.constructor === Object);
console.log(restored.number.constructor === Number);
console.log(restored.string.constructor === String);
console.log(restored.NULL === null);
console.log(restored.UNDEFINED === undefined);

const test_2 = {
  value: "test",
};

storage.set("TEST", test_2);
const restored_2 = storage.get("TEST");
console.log(restored_2.value === test_2.value);

storage.remove("TEST");
const removed = storage.get("TEST");
console.log(removed === null);
</script>