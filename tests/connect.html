<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>mastodon-api-test</title>
    <script src="../node_modules/dev-kit/dist/dev-kit.js"></script>
  </head>
  <body>
    <dev-kit></dev-kit>
    <div class="main"></div>
  </body>
</html>

<script type="module">
import APIUtil from "../src/APIUtil.js";
import {h, app} from "../src/hyperapp.js";
import connect from "../src/view/connect.js";

const state = {
  accounts: [
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
  ],
  // selectedIndex: 3,
};

const action = {
  onconnect: ()=> ()=> console.log("connect."),
  onaccountchange: ()=> console.log("change account."),
};

const view = (state, action)=>
  h("div", {}, [
    connect(state, action),
  ])

window.run = ()=> {
  APIUtil.onresponsed = (responsed)=> console.log(responsed);
  let ha = app(state, action, view, document.querySelector(".main"));
}
</script>
